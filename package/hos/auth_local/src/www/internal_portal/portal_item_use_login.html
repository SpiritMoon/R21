<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wireless Login Page</title>
    <!-- Bootstrap -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/css/main.css" rel="stylesheet">
    <script type="text/javascript">

        //显示提示信息
        var showMsg = function (msg) {
            $('#msg').text(msg);
            $('#alert-msg').show('slow', function () {
                setTimeout(function () {
                    $('#msg').text('');
                    $('#alert-msg').hide();
                }, 1000);
            });
        }

        function itemuselogin() {
            document.getElementById("loginbyaccesscode").disabled = true;

            window.location.href = "http://instant.alcatel-lucentnetworks.com:8080/cgi-bin/wp_item_use_login.cgi?op_auth=login&suc_url=http://instant.alcatel-lucentnetworks.com:8080/internal_portal/portal_auth_suc.html&fail_url=http://instant.alcatel-lucentnetworks.com:8080/internal_portal/portal_auth_fail.html";
            setTimeout(function () {
                document.getElementById("loginbyaccesscode").disabled = false;
            }, 1000);
        }
        function itemuseShowAgreement(){
            window.location.href="./declaration.html";
        }


        var xmlhttp ;
        var xmlhttpLogo;
        var ip = document.location.hostname;

        function initImAge(){
            getBackgrounImg();
            getLogoImg();
        }
        function getBackgrounImg() {
            var bg_img =false;
            var url = "http://" + ip + ":8080/internal_portal/static/img/bg.png";
            xmlhttp = null;
            $.ajax({
                url: url,
                type: "GET",
                async: false,
                success: function () {
                    bg_img = true;
                }
            });
            if(bg_img){
                document.getElementById("backgroud_img_item_use_login").src = "static/img/bg.png";
            }else{
                document.getElementById("backgroud_img_item_use_login").src = "static/img/bg.jpg";
            }
        }

        function getLogoImg() {
            var logo_img =false;
            var url_logo = "http://" + ip + ":8080/internal_portal/static/img/logo.png";
            $.ajax({
                url: url_logo,
                type: "GET",
                async: false,
                success: function () {
                    logo_img = true;
                }
            });
            if(logo_img){
                document.getElementById("logo_img_item_use_login").src = "static/img/logo.png";
            }else{
                document.getElementById("logo_img_item_use_login").src = "static/img/logo.jpg";
            }
        }

    </script>
</head>
<body onload="initImAge()">
<div class="container-fluid" align="center">
    <div class="row">
        <div class="col-xs-12 col-md-12">
            <div style="width: auto; height: 75px; padding:0px; margin:0px;float:left; text-align:left; vertical-align:top;">
                <img id="logo_img_item_use_login" src="static/img/logo.png" width="189px" height="76px" alt="Alcatel-Lucent Enterprise homepage" >
            </div>
        </div>
    </div>
    <div class="row ">
        <div class="col-xs-12 col-md-12">
            <hr style="border-top: 3px solid #eee">
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-md-12">
            <div style="margin: 0 auto;text-align: center;">
                <img id="backgroud_img_item_use_login" class="col-md-12  col-xs-12 col-lg-12" src="static/img/bg.png" alt="Resource Library" style="padding:0 10%;">
            </div>
            <div class="col-md-3" style="display:inline-block"></div>
            <div class="login text-center col-md-6 col-xs-12">
                <form role="form" id="signin-form">
                    <div class="row row-split">
                        <div class="row" style="padding: 5px 15%">
                            <div class="col-xs-8 col-md-4 " style="padding:0px 10px 0px 10px">
                                <div class="from-group" style="text-align: left;">
                                    <label style="font-size: 15px;">Terms:</label>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="padding: 5px 15%">
                            <div class="col-xs-8 col-md-6" style="padding:0px 10px 0px 22px; ">
                                <div class="checkbox" style="text-align:left">
                                    <label style="padding-left:10px;">
                                        <input id="agreeText" type="checkbox" checked="checked">
                                        <strong style="font-size: 14px;color:#777">I accept the <a style="text-decoration: none" onclick="itemuseShowAgreement();"> terms of use </a></strong>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="padding: 5px 15%">
                            <div class="col-xs-2 cl-md-1 " style="padding:10px ;display: inline;">
                                <button id="loginbyaccesscode" type="button" style="float: left;" name="codelogin"
                                        class="btn btn-info" onclick="itemuselogin();">Log In
                                </button>
                            </div>
                            <!--alermsgBox start-->
                            <div id="alert-msg" class="alert alert-danger alert-dismissible error-alert" role="alert"
                                 style="display: none">
                                <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span
                                        class="sr-only">Close</span></button>
                                <strong>Wrong : </strong> <span id="msg" style="color: red;"></span>
                            </div>
                            <!--alertMsg Box end-->
                        </div>
                        <div class="row" style="padding: 5px 15%;text-align: left;">
                            <p style="padding-left: 8px;">
                                Contact a staff member if you are experiencing
                                difficulty logging in.
                            </p>
                        </div>
                    </div>
                    <!--	<div class="row ag" style="padding-top: 20px;">
                            <div class="col-xs-4" style="padding-left:2px;">
                                <button id="declaration" type="button" class="form-control btn btn-link" style="color:#777;text-decoration: underline;">Agreement</button>
                            </div>
                        </div>-->
                </form>
            </div>
        </div>
    </div>
    <div class="col-xs-12 text-center">
        <font style="font-size: 8px;color: darkgray;"></font>
    </div>
    <div class="row">
    <div class="col-xs-12 col-md-12" >
            <hr style="border-top: 3px solid #eee">
        <div style="float: left;">
            © 2016 Alcatel-Lucent
        </div>
    </div>
    </div>
</div>

<script src="static/js/jquery.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<!--<script src="static/js/hammer.js"></script>
<script src="static/js/jquery.hammer.js"></script>-->
<script src="static/js/jquery.storageapi.js"></script>
<script>
    $(document).ready(function () {
        //去除登录标识
        if ($.localStorage.isSet('isLogin')) {
            $.localStorage.remove('isLogin');
        }
        $('#declaration').click(function () {
            window.location.href = "declaration.html";
        });
        //免责声明checkbox勾选处理
        $('#agreeText').change(function () {
            if (!$(this).is(':checked')) {
                $('#loginbyaccesscode').attr('disabled', 'disabled');
            } else {
                $('#loginbyaccesscode').removeAttr('disabled');
            }
        });
    })
</script>
</body>
</html>
